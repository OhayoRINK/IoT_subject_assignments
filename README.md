# IoT_subject_assignments
IoT 과목 과제로 제작된 IoT 실내 환경 관리 시스템의 코드입니다.

## 어떤 프로젝트인가요?
해당 프로젝트를 선택하게 된 배경은 근 몇년 높은 농도의 미세먼지와 잦은 주의보의 발령, 
공기의 질은 건강과 직결된다는 요소와 COVID-19를 겪고 난 이후의 사람들의 공기의 질에 관한
관심도를 IoT를 통해 풀어나가보자 하는 점에서 시작되었습니다.

## 사용된 센서?
기본적으로 큰 틀에서 CNDI IoT Prime 보드의 센서들로 구성하였습니다.
라즈베리파이3 모델B V1.2를 통해 작동합니다
1. PIR 센서: 이는 움직임을 감지하여 프로그램을 작동시킵니다.
2. 먼지 센서: 이는 LED와 전압을 사용해 공기 내에 먼지의 상태를 확인합니다.
3. 가스 센서: 이는 센서를 가열해 공기 내의 가스 상태를 파악합니다.
4. TEXT LCD: 측정값을 텍스트로 표기합니다.
5. 모터 센서: 특별한 의미는 없습니다. 기계의 조건 하에 무언가 작동되는 모습을 구현합니다.

## 작동 방식?
단순합니다. PIR 센서가 움직임을 감지하면, 먼지 센서와 가스 센서가 동작을 시작하며
이를 TEXT LCD가 수치를 안내하는 방식입니다.
일정량 이상을 초과할 경우, 모터가 작동하여 마치 공기청정기가 작동하는 느낌을 구현합니다.
이는 전원 작동중에는 실시간으로 값을 측정하여 데이터를 CSV에 기록하게 됩니다.

## WEB 폴더는 무엇인가요?
해당 동작들은 요구 조건에는 부합하지만, 이는 아두이노로도 작동 가능한 코드들입니다.
그렇다면 라즈베리파이를 데이터 베이스로도 같이 사용하는 것이 어떨까? 라는 말에서 추가되었습니다.
해당 WEB 폴더 내의 파이썬 코드는 현재 개발 환경인 로컬환경 내에서는 랜선 직접 연결을 통해
사이트에 접속할 수 있게 되어있습니다. html로 구축된 사이트에서는 csv_database 폴더로
접근을 할 수 있으며, 해당 폴더에 존재하는 실시간으로 기록중인 데이터베이스의 파일을 볼 수 있습니다.
또한, 해당 파일을 다운로드 받을 수 있으며 볼 수도 있고, 초기화를 원하면 삭제도 가능합니다.

## 어떻게 사용해 볼 수 있을까요?
파일을 원하는 폴더에 지정하고, web 폴더 내부의 web.py 내부의 경로를 수정해주세요!
해당 경로를 통해 csv파일의 위치를 찾습니다.

물리적인 핀 배선은 다음과 같습니다.

PIR센서 물리핀13(GPIO 27) - PIR 1번

먼지센서 물리핀11(GPIO 17) - 먼지센서 LED 1번
ANALOG IN3 물리핀 4번 - 먼지센서 VOUT 3번(1)

가스센서 ANALOG IN2 물리핀 3번 - 가스센서 1번

TEXTLCD
물리핀 3 - RS
물리핀 5 - RW
물리핀 7 - E
물리핀 12 - D0
물리핀 15 - D7
물리핀 16 - D1
물리핀 18 - D2
물리핀 22 - D3
물리핀 26 - D4
물리핀 32 - D5
물리핀 36 - D6

모터센서 
물리핀 38 - 모터1
물리핀 40 - 모터3
